datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id            Int           @id @default(autoincrement())
  name          String?
  email         String        @unique
  password      String?
  updatedAt     DateTime      @updatedAt
  createdAt     DateTime      @default(now())
  lastActive    DateTime      @default(now())
  Session                     Session[]
  TavernMessages              TavernMessages[]
  Characters                  Characters[]
}

model Session {
  id           Int        @id @default(autoincrement())
  expires      DateTime
  sessionToken String     @unique
  accessToken  String?
  user         User       @relation(fields: [userId], references: [id])
  userId       Int
}

model Taverns {
  id            Int               @id @default(autoincrement())
  name          String       
  description   String?
  messages      TavernMessages[]

}

model TavernMessages {
  id            Int         @id @default(autoincrement())
  tavern        Taverns     @relation(fields: [tavernId], references: [id])
  tavernId      Int
  user          User        @relation(fields: [userId], references: [id])
  userId        Int
  createdAt     DateTime    @default(now())
  message       String
}

model Characters {
  id           Int          @id @default(autoincrement())
  user         User         @relation(fields: [userId], references: [id])
  userId       Int        
  name         String   
  age          Int        
  class        String?
}
